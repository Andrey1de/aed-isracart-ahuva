(this.webpackJsonpaed_isracart_ahuva=this.webpackJsonpaed_isracart_ahuva||[]).push([[0],{48:function(e,t,a){e.exports=a(76)},59:function(e,t,a){},70:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);a(49);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(22),s=a(10),i=a(18),u=a(12),d=a(11),m=a(7),p=a(83),h=a(29),v=a(82),b=a(84),f=a(85),E=a(92),g=a(86),y=a(87),w=a(16),S=a(20),C=(a(59),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleNavbar=n.toggleNavbar.bind(Object(h.a)(n)),n.state={collapsed:!0},n}return Object(i.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(v.a,{color:"red",className:"navbar-expand-sm \r navbar-toggleable-sm ng-light bg-blue border-bottom box-shadow "},r.a.createElement(p.a,null,r.a.createElement(b.a,{tag:o.b,to:"/"},"aed_isracart_ahuva"),r.a.createElement(f.a,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(E.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},r.a.createElement(g.a,null,r.a.createElement(y.a,{tag:o.b,className:"text-dark",to:"/"},r.a.createElement(w.a,{color:"#0366d6",icon:S.c,size:"lg"})," Home")),r.a.createElement(g.a,null,r.a.createElement(y.a,{tag:o.b,className:"text-dark",to:"/calc"},r.a.createElement(w.a,{color:"#0366d6",icon:S.a,size:"lg"}),"\xa0Calculator")),r.a.createElement(g.a,null,r.a.createElement(y.a,{tag:o.b,className:"text-dark",to:"/swagger"},r.a.createElement(w.a,{color:"#0366d6",icon:S.d,size:"lg"}),"\xa0Swagger")))))))}}]),a}(n.Component));C.displayName=C.name;var j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(p.a,null,this.props.children))}}]),a}(n.Component);j.displayName=j.name;var O=a(21),k=a(9),x=a.n(k),N=a(19),I=a(13),R=a(90),H=a(88),D=a(91),A=a(24);var M=function e(){Object(s.a)(this,e),this.id=-1,this.argX=0,this.argY=0,this.operation="+",this.result=void 0,this.error="",this.current=new Date},Y=a(89),z=function(){function e(){var t=this;Object(s.a)(this,e),this.EvHistory=function(){return t.SubjectHistory.asObservable()},this.EvCalcResult=function(){return t.SubjectResultCalc.asObservable()},this.EvSelect=function(){return t.SubjectSelect.asObservable()},this.toCalculate=function(e,a,n,r){var l=new M;r=r||-1,l.id=+r,l.argX=e,l.argY=a,l.argY=a,l.operation=n,t._calcByServer$(l).then((function(e){t.sendCalcResult(l),e.error||t.sendHistory(),console.dir(e)})).catch((function(e){console.log(e)}))},this._calcByServer$=function(){var a=Object(I.a)(x.a.mark((function a(n){var r,l;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.result="N/A",n.error=void 0,"/"!==n.operation||n.argY){a.next=5;break}return n.error="Divide by Zero",a.abrupt("return",n);case 5:n.id=+n.id>0?+n.id:++e.ID,r={},t.SelectedDto=void 0,a.prev=8,a.next=16;break;case 13:r=a.sent,a.next=19;break;case 16:return a.next=18,t.calcByMok(+n.argX,+n.argY,n.operation);case 18:r=a.sent;case 19:n.error=(null===(l=r)||void 0===l?void 0:l.error)||"",n.error?n.result="N/A":(n.result=r.result,e.CMap.set(n.id,n),t.SelectedDto=void 0),a.next=27;break;case 23:a.prev=23,a.t0=a.catch(8),n.result="ERROR",n.error="Server Error:"+a.t0;case 27:return a.abrupt("return",n);case 28:case"end":return a.stop()}}),a,null,[[8,23]])})));return function(e){return a.apply(this,arguments)}}(),this.sendCalcResult=function(e){console.log("=>sendCalcResult("+e.result+")"),t.SubjectResultCalc.next(e)},this.getOperations$=Object(I.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=5;break;case 3:a=e.sent,t.Operations=Object(N.a)(a);case 5:return e.abrupt("return",t.Operations);case 6:case"end":return e.stop()}}),e)}))),this.getHistory=function(){var t=Object(N.a)(e.CMap.values()).reverse();return console.log("=>getHistory("+t.length+")"),t},this.loadHistory$=Object(I.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.CMap.clear(),t.next=14;break;case 5:t.sent,e.CMap.clear(),[].map((function(t){return e.CMap.set(t.id,t),e.ID=Math.max(t.id,e.ID)})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("Error to load history from server");case 14:return a=Object(N.a)(e.CMap.values()).reverse(),console.log("=>loadHistory("+a.length+")"),t.abrupt("return",a);case 17:case"end":return t.stop()}}),t,null,[[2,11]])}))),this.sendHistory=function(){var a=e.CMap.size;console.log("=>sendHistory("+a+")"),t.SubjectHistory.next(a)},this.removeHistoryRow=function(a){e.CMap.has(+a)&&(e.CMap.delete(+a),t.sendHistory())},this.getById=function(t){return e.CMap.get(t)},this.getSelectedDto=function(e){return t.SelectedDto},this.getSelectedID=function(e){var a;return(null===(a=t.SelectedDto)||void 0===a?void 0:a.id)||-1},this.setSelected=function(a){t.SelectedDto=e.CMap.get(a),t.SubjectSelect.next(t.getSelectedID())},this.Operations=["+","-","*","/"],this.SelectedDto=void 0,this.SubjectHistory=new Y.a,this.SubjectResultCalc=new Y.a,this.SubjectSelect=new Y.a}return Object(i.a)(e,[{key:"calcByMok",value:function(){var e=Object(I.a)(x.a.mark((function e(t,a,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,e.t0=n,e.next="+"===e.t0?4:"-"===e.t0?6:"*"===e.t0?8:"/"===e.t0?10:12;break;case 4:return r=t+a,e.abrupt("break",13);case 6:return r=t-a,e.abrupt("break",13);case 8:return r=t*a,e.abrupt("break",13);case 10:return r=t/a,e.abrupt("break",13);case 12:return e.abrupt("return",{status:4,result:"N/A"});case 13:return e.abrupt("return",{status:200,result:r});case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();z.ID=0,z.CMap=new Map;var W=new z,X=(a(70),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onEvCalcResult=function(e){e&&!e.error?(n.setState({result:e.result,selectedId:-1}),console.log("Result="+n.state.result)):n.setState({result:"N/A",error:e.error,selectedId:-1})},n.onEvSelect=function(e){var t=W.getSelectedDto(+e);t?n.setState({selectedId:t.id,argX:t.argX,argY:t.argY,operation:t.operation,result:t.result,error:""}):-1!==n.state.selectedId&&n.setState({selectedId:-1})},n.handleCalc=function(e){var t=n.state,a=t.argX,r=t.argY,l=t.operation,c=t.selectedId;W.toCalculate(+a,+r,l,c),-1!==c&&n.setState({selectedId:-1}),e.preventDefault()},n.createSelectItems=function(){for(var e=[],t=n.state.operations||[],a=0;a<=n.state.operations.length;a++){var l=t[a];e.push(r.a.createElement("option",{key:a,value:l},l))}return e},n.render=function(){console.log("Calculator::render()");var e=n.state.error?r.a.createElement("h5",null,r.a.createElement(R.a.Label,{style:{color:"red"}},n.state.error)):r.a.createElement("br",null);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(R.a,{inline:!0},r.a.createElement(R.a.Group,{controlId:"inpArgX"},r.a.createElement(A.a,{delay:{hide:450,show:300},overlay:function(e){return r.a.createElement(H.a,e,"User type")},placement:"top"},r.a.createElement(R.a.Control,{className:"args",type:"number",value:n.state.argX,onChange:function(e){return n.setState({argX:e.target.value})},style:{width:130,fontSize:12,fontWeight:600}}))),"\xa0\xa0",r.a.createElement(R.a.Group,{controlId:"selectOperation"},r.a.createElement(A.a,{delay:{hide:450,show:300},overlay:function(e){return r.a.createElement(H.a,e,"User select from dropdown")},placement:"bottom"},r.a.createElement(R.a.Control,{as:"select",className:"sel",value:n.state.operation,onChange:function(e){return n.setState({operation:e.target.value})}},n.createSelectItems()))),"\xa0\xa0",r.a.createElement(R.a.Group,{controlId:"inpArgY"},r.a.createElement(A.a,{delay:{hide:450,show:300},overlay:function(e){return r.a.createElement(H.a,e,"User type")},placement:"top"},r.a.createElement(R.a.Control,{className:"args",type:"number",value:n.state.argY,onChange:function(e){return n.setState({argY:e.target.value})},style:{width:130,fontSize:12,fontWeight:600}}))),"\xa0\xa0",r.a.createElement(R.a.Group,{controlId:"btnResult"},r.a.createElement(A.a,{delay:{hide:450,show:300},overlay:function(e){return r.a.createElement(H.a,e,"User clicks")},placement:"top"},r.a.createElement(D.a,{variant:"primary",className:"btnSubm",type:"button",onClick:n.handleCalc},r.a.createElement(w.a,{icon:S.b,size:"lg"})))),"\xa0\xa0",r.a.createElement(R.a.Group,{controlId:"labResult"},r.a.createElement(A.a,{delay:{hide:450,show:300},overlay:function(e){return r.a.createElement(H.a,e,"Calculated from server")},placement:"top"},r.a.createElement(R.a.Control,{className:"args",type:"text",value:n.state.result,readOnly:!0,style:{width:130,fontSize:12,fontWeight:600}})))),r.a.createElement("div",null,e)))},n.state={argX:0,argY:0,operation:"+",operations:[],result:"",error:"",selectedId:-1},n.subscriptions=[],n.EvCalcResult=W.EvCalcResult(),n.EvSelect=W.EvSelect(),console.log("Calculator::constructor"),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(I.a)(x.a.mark((function e(){var t,a,n=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.EvCalcResult.subscribe((function(e){return n.onEvCalcResult(e)})),a=this.EvSelect.subscribe((function(e){return n.onEvSelect(e)})),this.subscriptions=[t,a],e.t0=this,e.t1=N.a,e.next=7,W.getOperations$();case 7:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4={operations:e.t3},e.t0.setState.call(e.t0,e.t4);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subscriptions.map((function(e){return e.unsubscribe()}))}}]),a}(n.Component));X.displayName=X.name;a(73);var T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){n.subscriptions.map((function(e){return e.unsubscribe()}))},n.componentDidMount=Object(I.a)(x.a.mark((function e(){var t,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.EvHistory.subscribe((function(e){return n.onEvHistory(e)})),a=n.EvSelect.subscribe((function(e){return n.onEvSelect(e)})),n.subscriptions=[t,a],e.t0=N.a,e.next=6,W.loadHistory$();case 6:e.t1=e.sent,r=(0,e.t0)(e.t1),n.setState({history:Object(N.a)(r)});case 9:case"end":return e.stop()}}),e)}))),n.onEvSelect=function(e){n.setState.selectedId!==+e&&n.setState({selectedId:+e})},n.onEvHistory=function(e){n.setState({history:Object(N.a)(W.getHistory()).slice(0,16)})},n.handleSelectRow=function(e,t){n.setState({selectedId:+t}),W.setSelected(t)},n.handleRemoveRow=function(e,t){W.removeHistoryRow(t)},n.render=function(){console.log("Calc::render()");var e=function(e){return+e===+n.state.selectedId?"lightgray":"white"};return r.a.createElement("div",{className:"tableFrame"},r.a.createElement("h5",{id:"tabelLabel"},"Calculation's History"),r.a.createElement("table",{className:"table","aria-labelledby":"tabelLabel"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"HISTORY"),r.a.createElement("th",null,"Delete"),r.a.createElement("th",null,"Select"))),r.a.createElement("tbody",null,n.state.history.map((function(t){return r.a.createElement("tr",{key:t.id,style:{color:(a=t.id,+a===+n.state.selectedId?"navy":"black"),background:e(t.id)}},r.a.createElement("td",null,t.id),r.a.createElement("td",null,"".concat(t.argX," ").concat(t.operation," ").concat(t.argY," = ").concat(t.result)),r.a.createElement("td",null,r.a.createElement(D.a,{variant:"alarm",className:"btnSubm",type:"button",onClick:function(e){return n.handleRemoveRow(e,t.id)}},r.a.createElement(w.a,{icon:O.b,size:"1x",color:"red"}))),r.a.createElement("td",null,r.a.createElement(D.a,{variant:"light",className:"btnSubm",type:"button",onClick:function(e){return n.handleSelectRow(e,t.id)}},r.a.createElement(w.a,{icon:O.a,size:"1x",color:"green"}))));var a})))))},n.state={history:[],selectedId:-1},n.EvHistory=W.EvHistory(),n.EvSelect=W.EvSelect(),n.subscriptions=[],console.log("CalculatorTable::constructor"),n}return a}(n.Component);T.displayName=T.name;a(74);var B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).render=function(){return r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"work"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",{style:{textAlign:"center"}},"Calculator"),r.a.createElement(X,null),r.a.createElement("div",{className:"leftFooter"},r.a.createElement("u",null,r.a.createElement("h2",{style:{textAlign:"center"}}," Agenda for Calculator Page")),r.a.createElement("p",null,r.a.createElement(w.a,{icon:O.b,size:"2x",color:"red"}),r.a.createElement("strong",null,"DELETE when user presses this button - the calculation will be deleted (both in server and client);")),r.a.createElement("p",null,r.a.createElement(w.a,{icon:O.a,size:"2x",color:"green"}),r.a.createElement("strong",null,"UPDATE when user presses this button - the calculation will be show in the above inputs and when the user change the value , it will be updated also in the calculation history.")))),r.a.createElement("div",{className:"right"},r.a.createElement("h1",{style:{textAlign:"center"}},"Table"),r.a.createElement(T,null))))},e}return a}(n.Component);B.displayName=B.name;var U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).componentWillUnmount=function(){},e.render=function(){return r.a.createElement("div",{className:"tableFrame"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("p",null,"Welcome to Andrey Dergachev first React/NetCore 5 SPA @2021")),r.a.createElement("p",null,"This project is the React based WEB site In subdirectory",r.a.createElement("code",null,"..\\..\\Doc")," contained technical developement task There is only one functional to calculate in the sever the simplest arythmetical expression."),r.a.createElement("ul",null,"  Files React:",r.a.createElement("li",null,r.a.createElement("code",null,"App.js")," standard application starer for react"),r.a.createElement("li",null,r.a.createElement("code",null,"Layout.jsx")," and ",r.a.createElement("code",null,"NavMenu.jsx")," also is standard Menu and Layout functionalities")),r.a.createElement("ul",null," Files for Calculator:",r.a.createElement("li",null,r.a.createElement("code",null,"Calculator.jsx")," is page of react, having dialogto enter Arguments and operations."),r.a.createElement("li",null,r.a.createElement("code",null,"CalculatorTable.jsx")," - table viewer for calculation history . This component is a child of Calculator page")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("code",null,"CalculatorsService.js")," is a singleton with events and syncronic API . Contains the ",r.a.createElement("code",null,"NgRx")," subjets to oerform synchrony requests in async manner"),r.a.createElement("li",null,r.a.createElement("code",null,"JsonHttpServer.jsx")," - service to perform Http calls."))),r.a.createElement("footer",null))},e}return a}(n.Component);U.displayName=U.name;a(75);var L=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(j,null,r.a.createElement(m.a,{exact:!0,path:"/",component:U}),r.a.createElement(m.a,{path:"/calc",component:B}),r.a.createElement(m.a,{path:"/swagger",render:function(){return window.location="https://localhost:5001/swagger"}}))}}]),a}(n.Component);L.displayName=L.name;var _=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=document.getElementsByTagName("base")[0].getAttribute("href"),G=document.getElementById("root");c.a.render(r.a.createElement(o.a,{basename:F},r.a.createElement(L,null)),G),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");_?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):$(e)}))}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.094ccb2b.chunk.js.map